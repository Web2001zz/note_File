# 必备网络知识

## 主流浏览器的内核
  - IE浏览器 trident
  - 火狐浏览器 gecko
  - 谷歌、苹果浏览器 webkit
  - Opera：Presto

## 跨域
  - 要解释什么是跨域 首先需要明白的就是什么是同源策略
    - 同源策略：一个网页获取数据的地址，必须跟url中的域名相同
  - 而所谓跨域，就是违反了同源策略
  - 但跨域并不一定会有跨域问题，比如：
    - 在获取别人服务器上的css和js等文件时，都没有出现跨域问题，而只有在发送ajax请求的时候才会出现跨域问题
    - 在小程序中发送ajax请求没有报错，在浏览器端发送才会报错，只有浏览器端才会出现跨域问题
    - 跨域的ajax请求报错，其报错是在服务器响应阶段才出现，因为浏览器会检测被请求的服务器是否允许跨域，如果没有声明允许跨域则会报错，因此只要服务器自身允许别人跨域请求，浏览器就不会报错
  - 如何解决跨域问题？常用的方法有以下三种：
    - JsonP
      - jsonp就是在js代码中为html新建一个script标签，并将其src指向请求文件的地址，本质上就是在获取别人服务器上的css和js等文件，因此避免了跨域问题
    - cors 
      - cors实现的原理就是在服务器上进行设置，通过设置cors决定服务器是否允许别人请求数据，服务器允许别人的跨域请求的话，服务器就不会报错
    - proxy
      - 上述的两种方法相对proxy则使用的比较少，proxy是使用的代理服务器向他人的服务器发送请求数据，本质上并没有违反同源策略，因此并不会出现跨域问题
      - 没有违反同源策略的原因:因为使用代理服务器发送的请求而不是网页发送请求，同源策略限制的是网页自身而没限制其服务器发送请求数据，代理服务器收到响应数据后会返回给网页



## 从用户在url输入地址到页面渲染完成做了哪几步？
  - DNS解析 将域名地址解析成ip地址
    - 会经过浏览器、计算机、路由器、网络运营商缓存
  - 建立TCP链接 三次握手
  - 发送请求报文
  - 返回响应报文
  - 开始页面渲染
    - 如果遇到HTML，则调用HTML解析器解析成DOM树
    - 如果遇到CSS，调用CSS解析器解析成CSSOM树
    - 如果遇到JS，调用JS引擎解析JS代码
    - 可能需要修改元素会重新调用HTML解析器并解析成新的DOM树
    - 可能要修改样式会重新调用CSS解析器解析成新的CSSOM树
    - DOM + CSSOM = render树
  - TCP四次挥手断开连接

## 常见状态码
  - 200 成功并返回数据
  - 203 成功但未授权
  - 301 永久重定向
  - 302 临时重定向
  - 401 请求身份验证
  - 403 拒绝请求
  - 404 资源不存在
  - 500 服务器错误

## cookie，sessionStorage，loaclStorage的区别
  - 生命周期：
    - cookie 没有设置超时时间，浏览器关闭失效，设置了超时时间则会在超时时间过后作废
    - sessionStorage 浏览器关闭作废
    - localStorage 用户不主动删除或者使用API删除则会永久存在
  - 储存位置
    - cookie 没有设置超时时间时储存在内存中，设置后储存在硬盘里
    - sessionStorage 粗存在内存中
    - loaclStorage 存储在硬盘里
  - 存储大小
    - cookie 4KB
    - sessionStorage 5MB
    - localStorage 20MB
  - 与服务器之间的关系
	  - cookie 服务器创建,浏览器存储,发送请求自动携带上	
	  - sessionStorage	跟服务器没啥关系,不熟
	  - localStorage	跟服务器没啥关系,不熟
  - token与上述的区别
    - token数据类型:字符串
    - 内容:用户唯一标识->md5(盐salt)->得到base64字符串
    - 公司中:token每15分钟左右更换一个,过期时间一般7天或者15天